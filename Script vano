-- =========================================================================
-- ||                              VANO-HUB (ULTRA-STABLE & HITBOX SLIDER FIX)     ||
-- =========================================================================

-- Инициализация Compkiller - БОЛЕЕ НАДЕЖНАЯ ЗАГРУЗКА
local Compkiller = nil
local Notifier = nil
local success, CompkillerSource = pcall(function()
    return game:HttpGet("https://raw.githubusercontent.com/4lpaca-pin/CompKiller/refs/heads/main/src/source.luau", true)
end)

if success and CompkillerSource then
    pcall(function()
        Compkiller = loadstring(CompkillerSource)();
        Notifier = Compkiller.newNotify();
    end)
end

if not Compkiller then
    warn("Compkiller UI Library failed to load. The script will likely not function.")
    Notifier = { new = function() end }
end

-- Сервисы
local UserInputService = game:GetService("UserInputService")
local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")
local LocalPlayer = Players.LocalPlayer
local RunService = game:GetService('RunService') -- <-- Добавлен RunService

-- ====================
-- || ГЛОБАЛЬНЫЕ НАСТРОЙКИ ФУНКЦИЙ
-- ====================
local InfiniteJumpEnabled = false
local SpeedEnabled = false 
local OriginalWalkSpeed = 16 
local CurrentWalkSpeedValue = 50 
local SpeedTask = nil 
local HealthBarEnabled = false 
local HitboxEnabled = false 
local CurrentHitboxSize = 50 -- <-- ТЕКУЩИЙ РАЗМЕР ХИТБОКСА (по умолчанию)
local HitboxTask = nil -- <-- ЦИКЛ ДЛЯ ПОСТОЯННОГО ПРИМЕНЕНИЯ ХИТБОКСА

-- ESP Переменные
local espConnections = {}
local highlightTweens = {} 
local Holder = nil

-- TP Переменные
local CurrentTarget = nil
local CurrentTweenSpeed = 5 

-- ====================
-- || ВСПОМОГАТЕЛЬНЫЕ ФУНКЦИИ И ЛОГИКА
-- ====================

local function getHumanoid(player)
	return player and player.Character and player.Character:FindFirstChildOfClass('Humanoid')
end

local function getHRP(player)
	return player and player.Character and player.Character:FindFirstChild("HumanoidRootPart")
end

-- ----------------------------------------------------
-- HITBOX LOGIC (ИСПРАВЛЕННЫЙ)
-- ----------------------------------------------------

local function applyHitbox(target, size)
    local hrp = getHRP(target)
    local humanoid = getHumanoid(target)
    
    -- Проверяем существование HRP и что Humanoid существует и жив
    if hrp and humanoid and humanoid.Health > 0 then
        pcall(function()
            hrp.Size = Vector3.new(size, size, size)
            hrp.Transparency = 0.7
            hrp.BrickColor = BrickColor.new("Really blue")
            hrp.Material = "Neon"
            hrp.CanCollide = false
        end)
        return true
    end
    return false
end

local function resetHitbox(target)
    local hrp = getHRP(target)
    if hrp then
        pcall(function()
            -- Сброс к стандартным значениям HRP
            hrp.Size = Vector3.new(4, 2, 1) 
            hrp.Transparency = 1 
            hrp.BrickColor = BrickColor.new("Medium stone grey")
            hrp.Material = "Plastic"
            hrp.CanCollide = true
        end)
    end
end

local function startHitboxTask()
    if HitboxTask then HitboxTask:Disconnect() end
    
    -- Главный цикл для постоянного применения хитбокса
    HitboxTask = RunService.RenderStepped:Connect(function()
        if HitboxEnabled then
            for _, player in Players:GetPlayers() do
                if player ~= LocalPlayer then
                    -- Если хитбокс не применился (т.е. applyHitbox вернул false), то сбрасываем его
                    if not applyHitbox(player, CurrentHitboxSize) and player.Character then
                        resetHitbox(player)
                    end
                end
            end
        end
    end)
    
    -- Обработчик CharacterAdded для мгновенного применения при респауне
    local function onCharacterAdded(char)
        if HitboxEnabled then
            task.wait() -- Небольшая задержка для полной загрузки
            pcall(function() applyHitbox(char.Parent, CurrentHitboxSize) end)
        end
    end

    for _, player in Players:GetPlayers() do
        if player ~= LocalPlayer then
            -- Добавляем соединение, чтобы при респауне хитбокс сразу применялся
            player.CharacterAdded:Connect(onCharacterAdded) 
        end
    end
end

local function stopHitboxTask()
    if HitboxTask then 
        HitboxTask:Disconnect()
        HitboxTask = nil
    end
    -- Сбрасываем хитбокс для всех при выключении
    for _, player in Players:GetPlayers() do
        if player ~= LocalPlayer and player.Character then
            resetHitbox(player)
        end
    end
end

-- ----------------------------------------------------
-- SPEED HACK LOGIC (UNCHANGED)
-- ----------------------------------------------------

local function setupHumanoid()
    local Humanoid = getHumanoid(LocalPlayer)
    if Humanoid then
        OriginalWalkSpeed = Humanoid.WalkSpeed
        
        if SpeedEnabled then
            sethiddenproperty(Humanoid, "WalkSpeed", CurrentWalkSpeedValue)
        end
    end
end

LocalPlayer.CharacterAdded:Connect(setupHumanoid)

local function startSpeedTask()
    if SpeedTask then task.cancel(SpeedTask) end
    
    SpeedTask = task.spawn(function()
        while SpeedEnabled do
            local Humanoid = getHumanoid(LocalPlayer)
            if Humanoid then
                sethiddenproperty(Humanoid, "WalkSpeed", CurrentWalkSpeedValue)
            end
            task.wait(0.1) 
        end
    end)
end

local function stopSpeedTask()
    if SpeedTask then 
        task.cancel(SpeedTask)
        SpeedTask = nil
    end
    local Humanoid = getHumanoid(LocalPlayer)
    if Humanoid then
        sethiddenproperty(Humanoid, "WalkSpeed", OriginalWalkSpeed)
    end
end

setupHumanoid()


-- Infinite Jump
UserInputService.JumpRequest:Connect(function()
	if InfiniteJumpEnabled then
		local Character = LocalPlayer.Character
		local Humanoid = getHumanoid(LocalPlayer)
		
		if Humanoid and Character and Character.PrimaryPart then
			Humanoid:ChangeState(Enum.HumanoidStateType.Jumping)
			Character.PrimaryPart.AssemblyLinearVelocity = Character.PrimaryPart.CFrame.UpVector * Humanoid.JumpPower
		end
	end
end)

-- =========================================================================
-- ||                                 GUI ЛОГИКА
-- =========================================================================

if Compkiller then
    pcall(function() Compkiller:Loader("rbxassetid://72788619889737" , 2.5).yield(); end)

    local Window = Compkiller.new({
        Name = "VANO-HUB",
        Keybind = "LeftAlt",
        Logo = "rbxassetid://72788619889737",
        Scale = Compkiller.Scale.Fixed,
        Position = Vector2.new(0.5, 0.5), 
        AnchorPoint = Vector2.new(0.5, 0.5), 
        TextSize = 15,
    });

    Notifier.new({
        Title = "Welcome",
        Content = "Welcome rshome",
        Duration = 10,
        Icon = "rbxassetid://72788619889737"
    });

    -- Вотермарка
    local Watermark = Window:Watermark();
    Watermark:AddText({ Icon = "user", Text = "RShome" });
    Watermark:AddText({ Icon = "clock", Text = Compkiller:GetDate() });

    local Time = Watermark:AddText({ Icon = "timer", Text = "TIME" });
    task.spawn(function()
        while true do task.wait(1)
            Time:SetText(Compkiller:GetTimeNow());
        end
    end)
    Watermark:AddText({ Icon = "server", Text = Compkiller.Version });

    Window:DrawCategory({ Name = "Example" });

    local NormalTab = Window:DrawTab({
        Name = "Main",
        Icon = "sword",
        EnableScrolling = true
    });

    local NormalSection = NormalTab:DrawSection({
        Name = "Section (Left)",
        Position = 'left'	
    });

    -- 1. Infinite Jump
    NormalSection:AddToggle({
        Name = "Infinite Jump",
        Default = false,
        Callback = function(v)
            InfiniteJumpEnabled = v
        end,
    });

    -- 2. Speed 
    NormalSection:AddToggle({
        Name = "Speed",
        Default = false,
        Callback = function(v)
            SpeedEnabled = v
            
            if v then
                startSpeedTask() -- Начинаем постоянный цикл
            else
                stopSpeedTask()  -- Останавливаем цикл и сбрасываем скорость
            end
        end,
    });

    NormalSection:AddSlider({
        Name = "WalkSpeed Value",
        Min = 16,
        Max = 300,
        Default = 50, 
        Step = 1,
        Unit = "WalkSpeed",
        Callback = function(v)
            CurrentWalkSpeedValue = v
            if SpeedEnabled then
                local Humanoid = getHumanoid(LocalPlayer)
                if Humanoid then
                    sethiddenproperty(Humanoid, "WalkSpeed", v)
                end
            end
        end
    });

    -- 3. Hitbox Toggle
    NormalSection:AddToggle({
        Name = "Hitbox",
        Default = false,
        Callback = function(v)
            HitboxEnabled = v
            
            if v then
                startHitboxTask() -- Начинаем постоянный цикл
                Notifier.new({
                    Title = "Hitbox",
                    Content = "Hitbox Activated",
                    Duration = 3,
                    Icon = "check"
                });
            else
                stopHitboxTask()  -- Останавливаем цикл и сбрасываем хитбоксы
                 Notifier.new({
                    Title = "Hitbox",
                    Content = "Hitbox Deactivated",
                    Duration = 3,
                    Icon = "error"
                });
            end
        end,
    });
    
    -- 4. Hitbox Size Slider
    NormalSection:AddSlider({
        Name = "Hitbox Size",
        Min = 5,
        Max = 100,
        Default = 50, 
        Step = 1,
        Unit = "Size",
        Callback = function(v)
            CurrentHitboxSize = v
        end,
    });


    local NormalSectionRight = NormalTab:DrawSection({
        Name = "Visual",
        Position = 'right'
    });
    
    -- ====================
    -- || ФУНКЦИИ ESP (UNCHANGED)
    -- ====================
    
    local function UnloadCharacter(v)
        if highlightTweens[v.Name] then
            highlightTweens[v.Name]:Cancel()
            highlightTweens[v.Name] = nil
        end
        
        local vHolder = Holder:FindFirstChild(v.Name)
        if vHolder then vHolder:ClearAllChildren() end
        
        local char = v.Character
        if char then
            local highlight = char:FindFirstChild("VANO_Highlight")
            if highlight and highlight:IsA("Highlight") then highlight:Destroy() end
        end
    end

    local function setupPulsingEsp(target)
        local char = target.Character
        if char then
            local hrp = getHRP(target)
            if hrp then
                local highlight = char:FindFirstChild("VANO_Highlight") or Instance.new("Highlight")
                if not highlight.Parent then
                    highlight.RobloxLocked = true
                    highlight.Name = "VANO_Highlight"
                    highlight.Adornee = char
                    highlight.DepthMode = Enum.HighlightDepthMode.AlwaysOnTop
                    highlight.Parent = char
                end
                
                -- ФИОЛЕТОВЫЙ <-> БЕЛЫЙ
                local color1 = Color3.fromRGB(128, 0, 128) 
                local color2 = Color3.new(1, 1, 1)        
                
                if highlightTweens[target.Name] then
                    highlightTweens[target.Name]:Cancel()
                end

                local tweenInfo = TweenInfo.new(
                    1.5, 
                    Enum.EasingStyle.Sine,
                    Enum.EasingDirection.InOut,
                    -1, 
                    true,
                    0
                )
                
                local tween = TweenService:Create(highlight, tweenInfo, {FillColor = color2})
                highlightTweens[target.Name] = tween
                highlight.FillColor = color1
                tween:Play()
            end
        end
    end

    local function LoadCharacter(v, BoxTemplate, NameTagTemplate, HealthTagTemplate)
        repeat task.wait() until v.Character and getHumanoid(v) and getHRP(v)
        local Humanoid = getHumanoid(v)
        if not Humanoid then return UnloadCharacter(v) end
        
        local vHolder = Holder:FindFirstChild(v.Name) or Instance.new("Folder", Holder)
        vHolder.Name = v.Name
        vHolder:ClearAllChildren()
        
        local char = v.Character
        
        local b = BoxTemplate:Clone()
        b.Name = v.Name .. "Box"
        b.Adornee = char
        b.Parent = vHolder
        
        local t = NameTagTemplate:Clone()
        t.Name = v.Name .. "NameTag"
        t.Enabled = true
        t.Parent = vHolder
        t.Adornee = char:WaitForChild("Head", 5)
        if not t.Adornee then
            return UnloadCharacter(v)
        end
        
        t.Tag.Text = v.Name
        b.Color3 = v.TeamColor.Color
        t.Tag.TextColor3 = v.TeamColor.Color

        local HealthTag = HealthTagTemplate:Clone()
        HealthTag.Name = v.Name .. "HealthTag"
        HealthTag.Enabled = HealthBarEnabled 
        HealthTag.Parent = vHolder
        HealthTag.Adornee = t.Adornee
        local HealthText = HealthTag:FindFirstChild("HealthText")
        
        local Update = nil
        local function UpdateNameTag()
            if not char or not getHumanoid(v) then
                if espConnections[v.Name] then espConnections[v.Name]:Disconnect() end
                return UnloadCharacter(v)
            end
            
            local currentHealth = math.ceil(Humanoid.Health)
            local maxHealth = Humanoid.MaxHealth

            if HealthText then
                HealthText.Text = "HP: " .. currentHealth
                
                if currentHealth < maxHealth * 0.25 then
                    HealthText.TextColor3 = Color3.fromRGB(255, 0, 0)
                elseif currentHealth < maxHealth * 0.5 then
                    HealthText.TextColor3 = Color3.fromRGB(255, 255, 0) 
                else
                    HealthText.TextColor3 = Color3.fromRGB(0, 255, 0)
                end
            end
            
            Humanoid.DisplayDistanceType = Enum.HumanoidDisplayDistanceType.None
        end
        
        Update = Humanoid.Changed:Connect(UpdateNameTag)
        if espConnections[v.Name] then espConnections[v.Name]:Disconnect() end
        espConnections[v.Name] = Update
        UpdateNameTag()

        setupPulsingEsp(v)
    end

    local function LoadPlayer(p, BoxTemplate, NameTagTemplate, HealthTagTemplate)
        local vHolder = Holder:FindFirstChild(p.Name) or Instance.new("Folder", Holder)
        vHolder.Name = p.Name

        espConnections[p.Name .. "CharAdded"] = p.CharacterAdded:Connect(function() pcall(LoadCharacter, p, BoxTemplate, NameTagTemplate, HealthTagTemplate) end)
        espConnections[p.Name .. "CharRemoving"] = p.CharacterRemoving:Connect(function() pcall(UnloadCharacter, p) end)
        
        espConnections[p.Name .. "TeamChanged"] = p.Changed:Connect(function(prop)
            if prop == "TeamColor" then
                UnloadCharacter(p)
                task.wait()
                LoadCharacter(p, BoxTemplate, NameTagTemplate, HealthTagTemplate)
            end
        end)
        
        LoadCharacter(p, BoxTemplate, NameTagTemplate, HealthTagTemplate)
    end

    local function UnloadPlayer(p)
        UnloadCharacter(p)
        local vHolder = Holder:FindFirstChild(p.Name)
        if vHolder then
            vHolder:Destroy()
        end
        for k, conn in pairs(espConnections) do
            if k:match(p.Name) then
                conn:Disconnect()
                espConnections[k] = nil
            end
        end
        
        if highlightTweens[p.Name] then
            highlightTweens[p.Name]:Cancel()
            highlightTweens[p.Name] = nil
        end
    end

    -- 5. Toggle ESP
    NormalSectionRight:AddToggle({
        Name = "ESP",
        Default = false,
        Callback = function(v)
            if v then
                
                Holder = Instance.new("Folder")
                Holder.Name = "VANO_ESP_Holder"
                Holder.Parent = game.CoreGui
                
                local BoxTemplate = Instance.new("BoxHandleAdornment")
                BoxTemplate.Name = "nilBox"
                BoxTemplate.Size = Vector3.new(1, 2, 1)
                BoxTemplate.Color3 = Color3.new(100 / 255, 100 / 255, 100 / 255)
                BoxTemplate.Transparency = 0.7
                BoxTemplate.ZIndex = 0
                BoxTemplate.AlwaysOnTop = false
                BoxTemplate.Visible = false

                local NameTagTemplate = Instance.new("BillboardGui")
                NameTagTemplate.Name = "nilNameTag"
                NameTagTemplate.Enabled = false
                NameTagTemplate.Size = UDim2.new(0, 200, 0, 50)
                NameTagTemplate.AlwaysOnTop = true
                NameTagTemplate.StudsOffset = Vector3.new(0, 1.8, 0)
                local Tag = Instance.new("TextLabel", NameTagTemplate)
                Tag.Name = "Tag"
                Tag.BackgroundTransparency = 1
                Tag.Position = UDim2.new(0, -50, 0, 0)
                Tag.Size = UDim2.new(0, 300, 0, 20)
                Tag.TextSize = 15
                Tag.TextColor3 = Color3.new(100 / 255, 100 / 255, 100 / 255)
                Tag.TextStrokeColor3 = Color3.new(0 / 255, 0 / 255, 0 / 255)
                Tag.TextStrokeTransparency = 0.4
                Tag.Text = "nil"
                Tag.Font = Enum.Font.SourceSansBold
                Tag.TextScaled = false

                local HealthTagTemplate = Instance.new("BillboardGui")
                HealthTagTemplate.Name = "nilHealthTag"
                HealthTagTemplate.Enabled = false
                HealthTagTemplate.Size = UDim2.new(0, 100, 0, 20)
                HealthTagTemplate.AlwaysOnTop = true
                HealthTagTemplate.StudsOffset = Vector3.new(0, 2.3, 0) 
                local HealthTextTemplate = Instance.new("TextLabel", HealthTagTemplate)
                HealthTextTemplate.Name = "HealthText"
                HealthTextTemplate.BackgroundTransparency = 1
                HealthTextTemplate.Size = UDim2.new(1, 0, 1, 0)
                HealthTextTemplate.TextSize = 14
                HealthTextTemplate.TextColor3 = Color3.fromRGB(0, 255, 0)
                HealthTextTemplate.TextStrokeTransparency = 0.5
                HealthTextTemplate.Text = "HP: 100"
                HealthTextTemplate.Font = Enum.Font.SourceSansBold
                
                for _, p in Players:GetPlayers() do
                    if p ~= LocalPlayer then
                        task.spawn(function() pcall(LoadPlayer, p, BoxTemplate, NameTagTemplate, HealthTagTemplate) end)
                    end
                end

                espConnections["PlayerAdded"] = Players.PlayerAdded:Connect(function(p)
                    if p ~= LocalPlayer then
                        pcall(LoadPlayer, p, BoxTemplate, NameTagTemplate, HealthTagTemplate)
                    end
                end)
                
                espConnections["PlayerRemoving"] = Players.PlayerRemoving:Connect(UnloadPlayer)
                
                LocalPlayer.NameDisplayDistance = 0
                
            else
                for _, conn in pairs(espConnections) do
                    conn:Disconnect()
                end
                espConnections = {}
                
                if Holder then
                    Holder:Destroy()
                    Holder = nil
                end

                for _, tween in pairs(highlightTweens) do
                    tween:Cancel()
                end
                highlightTweens = {}

                for _, obj in ipairs(game.Workspace:GetDescendants()) do
                    if obj.Name == "VANO_Highlight" and obj:IsA("Highlight") then
                        obj:Destroy()
                    end
                end
            end
        end,
    });

    -- 6. Health Bar Toggle
    NormalSectionRight:AddToggle({
        Name = "Health Bar",
        Default = false,
        Callback = function(v)
            HealthBarEnabled = v
            
            for _, p in Players:GetPlayers() do
                if p ~= LocalPlayer and p.Character then
                    local vHolder = Holder and Holder:FindFirstChild(p.Name)
                    if vHolder then
                        local HealthTag = vHolder:FindFirstChild(p.Name .. "HealthTag")
                        if HealthTag and HealthTag:IsA("BillboardGui") then
                            HealthTag.Enabled = v
                        end
                    end
                end
            end
        end,
    });


    -- =========================================================================
    -- ||                              GENERAL TAB (TP) (UNCHANGED)
    -- =========================================================================

    local SingleTab = Window:DrawTab({
        Name = "General Tab",
        Icon = "fire",
        Type = "Single"
    });

    local GeneralSection = SingleTab:DrawSection({
        Name = "TP Player",
        Position = 'left'
    });

    local PlayerListDropdown = nil

    local function UpdatePlayers()
        local playerNames = {}
        for _, player in Players:GetPlayers() do
            if player ~= LocalPlayer then
                table.insert(playerNames, player.Name)
            end
        end
        
        if #playerNames == 0 then
            table.insert(playerNames, "No players found")
        end
        
        if PlayerListDropdown then
            PlayerListDropdown:SetValues(playerNames)
            CurrentTarget = playerNames[1]
        end
        
        return playerNames
    end

    -- 7. TP Tween Speed (Секунды)
    GeneralSection:AddSlider({
        Name = "TP Tween Speed (Seconds)", 
        Min = 10,
        Max = 100,
        Default = 50, 
        Step = 10,
        Unit = "Seconds",
        Callback = function(v)
            CurrentTweenSpeed = v / 10
        end
    });

    PlayerListDropdown = GeneralSection:AddDropdown({
        Name = "Select Player",
        Default = "No players found",
        Values = UpdatePlayers(),
        Callback = function(selectedName)
            CurrentTarget = selectedName
        end,
    });

    -- 8. Teleport to Player
    GeneralSection:AddButton({
        Name = "Teleport to Player",
        Callback = function()
            if not CurrentTarget or CurrentTarget == "No players found" then
                Notifier.new({
                    Title = "Teleport Error",
                    Content = "No valid player selected.",
                    Duration = 5,
                    Icon = "error"
                });
                return
            end

            local targetPlayer = Players:FindFirstChild(CurrentTarget)
            local hrp = getHRP(LocalPlayer)
            
            if targetPlayer and targetPlayer.Character and hrp then
                local targetHRP = getHRP(targetPlayer)
                if not targetHRP then
                    Notifier.new({
                        Title = "Teleport Error",
                        Content = "Target's character is not fully loaded.",
                        Duration = 5,
                        Icon = "error"
                    });
                    return
                end

                local targetPosition = targetHRP.CFrame
                
                local tweenInfo = TweenInfo.new(
                    CurrentTweenSpeed, 
                    Enum.EasingStyle.Linear,
                    Enum.EasingDirection.Out,
                    0,
                    false,
                    0
                )
                
                local properties = {CFrame = targetPosition * CFrame.new(0, 3, 0)} 
                local tween = TweenService:Create(hrp, tweenInfo, properties)
                
                tween:Play()
                
                Notifier.new({
                    Title = "Teleport Success",
                    Content = "Teleported to " .. CurrentTarget .. " in " .. string.format("%.1f", CurrentTweenSpeed) .. "s",
                    Duration = 3,
                    Icon = "rbxassetid://72788619889737"
                });
            else
                Notifier.new({
                    Title = "Teleport Error",
                    Content = "Target player or character not found.",
                    Duration = 5,
                    Icon = "error"
                });
            end
        end,
    });

    GeneralSection:AddButton({
        Name = "Update Player List",
        Callback = function()
            UpdatePlayers()
            Notifier.new({
                Title = "Update Complete",
                Content = "Player list has been updated.",
                Duration = 3,
                Icon = "refresh"
            });
        end,
    });

    -- =========================================================================
    -- ||                           ДОПОЛНИТЕЛЬНЫЕ ВКЛАДКИ (UNCHANGED)
    -- =========================================================================

    local ContainerTab = Window:DrawContainerTab({
        Name = "Extract Tabs",
        Icon = "contact",
    });

    local ExtractTab = ContainerTab:DrawTab({
        Name = "Tab 1",
        Type = "Double"
    });

    local SingleExtractTab = ContainerTab:DrawTab({
        Name = "Tab 2",
        Type = "Single",
        EnableScrolling = true,
    });


    Window:DrawCategory({
        Name = "Misc"
    });

    local SettingTab = Window:DrawTab({
        Icon = "settings-3",
        Name = "Settings",
        Type = "Single",
        EnableScrolling = true
    });

    local ThemeTab = Window:DrawTab({
        Icon = "paintbrush",
        Name = "Themes",
        Type = "Single"
    });

    -- =========================================================================
    -- ||                              НАСТРОЙКИ UI (UNCHANGED)
    -- =========================================================================

    local Settings = SettingTab:DrawSection({
        Name = "UI Settings",
    });
    
    local BRIGHT_GREEN = Color3.fromRGB(0, 255, 0)

    Settings:AddToggle({
        Name = "Alway Show Frame",
        Default = false,
        Callback = function(v)
            Window.AlwayShowTab = v;
        end,
    });

    -- COLOR PICKERS
    local colorPickers = {
        {"Highlight", BRIGHT_GREEN, "Highlight"}, 
        {"Toggle Color", BRIGHT_GREEN, "Toggle"}, 
        {"Drop Color", Compkiller.Colors.DropColor, "DropColor"},
        {"Risky", Compkiller.Colors.Risky, "Risky"},
        {"Mouse Enter", Compkiller.Colors.MouseEnter, "MouseEnter"},
        {"Block Color", Compkiller.Colors.BlockColor, "BlockColor"},
        {"Background Color", Compkiller.Colors.BGDBColor, "BGDBColor"},
        {"Block Background Color", Compkiller.Colors.BlockBackground, "BlockBackground"},
        {"Stroke Color", Compkiller.Colors.StrokeColor, "StrokeColor"},
        {"High Stroke Color", Compkiller.Colors.HighStrokeColor, "HighStrokeColor"},
        {"Switch Color", Compkiller.Colors.SwitchColor, "SwitchColor"},
        {"Line Color", Compkiller.Colors.LineColor, "LineColor"},
    }

    for _, data in ipairs(colorPickers) do
        local name, defaultColor, propName = unpack(data)
        Settings:AddColorPicker({
            Name = name,
            Default = defaultColor,
            Callback = function(v)
                Compkiller.Colors[propName] = v;
                Compkiller:RefreshCurrentColor();
            end,
        });
    end


    Settings:AddButton({
        Name = "Get Theme",
        Callback = function()
            print(Compkiller:GetTheme())
            
            Notifier.new({
                Title = "Notification",
                Content = "Copied Them Color to your clipboard",
                Duration = 5,
                Icon = "rbxassetid://72788619889737"
            });
        end,
    });

    ThemeTab:DrawSection({
        Name = "UI Themes"
    }):AddDropdown({
        Name = "Select Theme",
        Default = "Skeet", 
        Values = {
            "Default",
            "Dark Green",
            "Dark Blue",
            "Purple Rose",
            "Skeet"
        },
        Callback = function(v)
            Compkiller:SetTheme(v)
        end,
    })

    Compkiller:SetTheme("Skeet")
    -- ЭКСПЛИСИТНОЕ ПЕРЕОПРЕДЕЛЕНИЕ ЦВЕТОВ
    Compkiller.Colors.Highlight = BRIGHT_GREEN
    Compkiller.Colors.Toggle = BRIGHT_GREEN
    Compkiller:RefreshCurrentColor()

else
    warn("UI Library (Compkiller) failed to load. Please try the 'clean' script or check your exploit's HTTP/loadstring settings.")
end
